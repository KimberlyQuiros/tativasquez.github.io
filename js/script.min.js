!function(){function a(){window.addEventListener("scroll",function(){b=document.documentElement.scrollTop||document.body.scrollTop,b>=e?(c.classList.add("fixed"),d.classList.add("center-block")):(c.classList.remove("fixed"),d.classList.remove("center-block"))},!1)}var b,c=document.querySelector("#top-header"),d=document.querySelector(".navbar-js"),e=(document.querySelectorAll("header"),c.offsetTop);a()}(),$(function(){$(".item-height").matchHeight()}),$(document).ready(function(){$(window).on("load",function(){size_div=jQuery("#projects .project-item").size(),x=3,$("#projects .project-item:lt("+x+")").fadeIn(),$("#btn-load-more").click(function(){x=x+3<=size_div?x+3:size_div,$("#projects .project-item:lt("+x+")").slideDown(),x==size_div&&$(".load-more").css("display","none")}),size_div<=3&&$(".load-more").css("display","none")})}),$.fn.extend({threeBarToggle:function(a){var b={color:"black",width:30,height:25,speed:400,animate:!0},a=$.extend(b,a);return this.each(function(){$(this).empty().css({width:a.width,height:a.height,background:"transparent"}),$(this).addClass("tb-menu-toggle"),$(this).prepend("<i></i><i></i><i></i>").on("click",function(b){b.preventDefault(),$(this).toggleClass("tb-active-toggle"),a.animate&&$(this).toggleClass("tb-animate-toggle"),$(".tb-mobile-menu").slideToggle(a.speed)}),$(this).children().css("background",a.color)})},accordionMenu:function(a){var b={speed:400},a=$.extend(b,a);return this.each(function(){$(this).addClass("tb-mobile-menu"),$(this).children("li").find(".sub-menu").parent().addClass("tb-parent"),$(".tb-parent ul").hide(),$(".tb-parent > a").on("click",function(b){b.stopPropagation(),b.preventDefault(),$(this).siblings().slideToggle(a.speed)})})}}),$("#menu-toggle").threeBarToggle({color:"#fff",width:40,height:30}),$(".menu").accordionMenu(),$(document).ready(function(){$(".page-scroll").click(function(){$(".tb-menu-toggle").removeClass("tb-animate-toggle tb-active-toggle"),$(".menu").css("display","none")})}),$(document).ready(function(){$(".lazy").lazyload({effect:"fadeIn"})}),$(document).ready(function(){$(".nav-pills li").click(function(){var a=$(this).attr("class");"branding"===a?($(".project-hover.branding").css("display","block"),$(".project-hover.aquitectura").css("display","none"),$(".project-hover.others").css("display","none")):"aquitectura"===a?($(".project-hover.aquitectura").css("display","block"),$(".project-hover.branding").css("display","none"),$(".project-hover.others").css("display","none")):($(".project-hover.others").css("display","block"),$(".project-hover.branding").css("display","none"),$(".project-hover.aquitectura").css("display","none"))})}),$(document).ready(function(){$(window).scroll(function(){$("header").scrollTop()>50?($("#go-to-top").fadeIn(),$("#go-to-top").css("display","block")):($("#go-to-top").fadeOut(),$("#go-to-top").css("display","none"))}),$("#go-to-top").click(function(a){a.preventDefault();var b=$("html, body"),c=$(a.currentTarget).attr("href"),d=$(c).offset();b.animate({scrollTop:d.top})})}),$(document).ready(function(){$("#lightgallery").lightGallery({thumbnail:!0})}),$(document).ready(function(a){function b(b){b.each(function(){var b=a(this),e={};e.timelineWrapper=b.find(".events-wrapper"),e.eventsWrapper=e.timelineWrapper.children(".events"),e.fillingLine=e.eventsWrapper.children(".filling-line"),e.timelineEvents=e.eventsWrapper.find("a"),e.timelineDates=o(e.timelineEvents),e.eventsMinLapse=q(e.timelineDates),e.timelineNavigation=b.find(".cd-timeline-navigation"),e.eventsContent=b.children(".events-content"),h(e,u);var f=j(e,u);b.addClass("loaded"),e.timelineNavigation.on("click",".next",function(a){a.preventDefault(),c(e,f,"next")}),e.timelineNavigation.on("click",".prev",function(a){a.preventDefault(),c(e,f,"prev")}),e.eventsWrapper.on("click","a",function(b){b.preventDefault(),e.timelineEvents.removeClass("selected"),a(this).addClass("selected"),l(a(this)),g(a(this),e.fillingLine,f),k(a(this),e.eventsContent)}),e.eventsContent.on("swipeleft",function(){"mobile"==s()&&d(e,f,"next")}),e.eventsContent.on("swiperight",function(){"mobile"==s()&&d(e,f,"prev")}),a(document).keyup(function(a){"37"==a.which&&r(b.get(0))?d(e,f,"prev"):"39"==a.which&&r(b.get(0))&&d(e,f,"next")})})}function c(a,b,c){var d=m(a.eventsWrapper),e=Number(a.timelineWrapper.css("width").replace("px",""));"next"==c?f(a,d-e+u,e-b):f(a,d+e-u)}function d(a,b,c){var d=a.eventsContent.find(".selected");if(("next"==c?d.next():d.prev()).length>0){var f=a.eventsWrapper.find(".selected"),h="next"==c?f.parent("li").next("li").children("a"):f.parent("li").prev("li").children("a");g(h,a.fillingLine,b),k(h,a.eventsContent),h.addClass("selected"),f.removeClass("selected"),l(h),e(c,h,a,b)}}function e(a,b,c,d){var e=window.getComputedStyle(b.get(0),null),g=Number(e.getPropertyValue("left").replace("px","")),h=Number(c.timelineWrapper.css("width").replace("px","")),d=Number(c.eventsWrapper.css("width").replace("px","")),i=m(c.eventsWrapper);("next"==a&&g>h-i||"prev"==a&&g<-i)&&f(c,h/2-g,h-d)}function f(a,b,c){var d=a.eventsWrapper.get(0);b=b>0?0:b,b=void 0!==c&&b<c?c:b,n(d,"translateX",b+"px"),0==b?a.timelineNavigation.find(".prev").addClass("inactive"):a.timelineNavigation.find(".prev").removeClass("inactive"),b==c?a.timelineNavigation.find(".next").addClass("inactive"):a.timelineNavigation.find(".next").removeClass("inactive")}function g(a,b,c){var d=window.getComputedStyle(a.get(0),null),e=d.getPropertyValue("left"),f=d.getPropertyValue("width");e=Number(e.replace("px",""))+Number(f.replace("px",""))/2;var g=e/c;n(b.get(0),"scaleX",g)}function h(a,b){for(i=0;i<a.timelineDates.length;i++){var c=p(a.timelineDates[0],a.timelineDates[i]),d=Math.round(c/a.eventsMinLapse)+2;a.timelineEvents.eq(i).css("left",d*b+"px")}}function j(a,b){var c=p(a.timelineDates[0],a.timelineDates[a.timelineDates.length-1]),d=c/a.eventsMinLapse,d=Math.round(d)+4,e=d*b;return a.eventsWrapper.css("width",e+"px"),g(a.timelineEvents.eq(0),a.fillingLine,e),e}function k(a,b){var c=a.data("date"),d=b.find(".selected"),e=b.find('[data-date="'+c+'"]'),f=e.height();if(e.index()>d.index())var g="selected enter-right",h="leave-left";else var g="selected enter-left",h="leave-right";e.attr("class",g),d.attr("class",h).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){d.removeClass("leave-right leave-left"),e.removeClass("enter-left enter-right")}),b.css("height",f+"px")}function l(a){a.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function m(a){var b=window.getComputedStyle(a.get(0),null),c=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");if(c.indexOf("(")>=0){var c=c.split("(")[1];c=c.split(")")[0],c=c.split(",");var d=c[4]}else var d=0;return Number(d)}function n(a,b,c){a.style["-webkit-transform"]=b+"("+c+")",a.style["-moz-transform"]=b+"("+c+")",a.style["-ms-transform"]=b+"("+c+")",a.style["-o-transform"]=b+"("+c+")",a.style.transform=b+"("+c+")"}function o(b){var c=[];return b.each(function(){var b=a(this).data("date").split("/"),d=new Date(b[2],b[1]-1,b[0]);c.push(d)}),c}function p(a,b){return Math.round(b-a)}function q(a){var b=[];for(i=1;i<a.length;i++){var c=p(a[i-1],a[i]);b.push(c)}return Math.min.apply(null,b)}function r(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}function s(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}var t=a(".cd-horizontal-timeline"),u=60;t.length>0&&b(t)});